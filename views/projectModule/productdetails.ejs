<!doctype html>
<html lang="en">
<head>
	   <% include ../common/header %>
           <% include ../common/scripts %>
           <% include ../common/styles %>
	
	   <title>Project Details</title>
	   
	   <script src="/js/tablej.js" type="text/javascript" charset="utf-8"></script>

    	   <style>
            	        .card .header2row
                        {
                               padding: 15px 15px 0;
                        }
			

			hr 
			{
                                border: none;
                                height: 1px;
                                color: #333;
                                background-color: #333;
                        }

	
			.navbar .navbar-reverse 
			{
  				display: inline-block;
  				float: none;
  				vertical-align: top;
			}

			.navbar .navbar-collapse 
			{
  				text-align: center;
			}	

			  table, tr, td
                        {
                            border: 0px;
                            padding: 2px;
                        }

                        table
                        {
                                border-spacing: 0px;
                        }
	                        .picker__select--year {
                            width: 24.5%;
                            height: 30%;
                        }
                        .picker__select--month {
                            width: 35%;
                            height: 30%;
                        }
			textarea {
			    resize: none;
			}	
    	     </style>
	     <script>

                        
                                $(window).load(function()
                                {
                                        $('#projsdate').pickadate(
                                        {
                                        selectMonths: true,
                                        selectYears: 100,
                                        format: 'yyyy-mm-dd',
                                        formatSubmit: 'yyyy-mm-dd',
					closeOnSelect: true,
					closeOnClear: true
                                        });
                                });

                                $(document).ready(function() {
                                $("#my-icon").click(function(){
                                $( '#projsdate' ).pickadate("open"),
                                event.stopPropagation(),
                                event.preventDefault()
                                });
                                });

                        $(window).load(function()
                                {
                                        $('#projcdate').pickadate(
                                        {
                                        selectMonths: true,
                                        selectYears: 100,
                                        format: 'yyyy-mm-dd',
                                        formatSubmit: 'yyyy-mm-dd',
					closeOnSelect: true,
                                        closeOnClear: true
                                        });
                                });

                                $(document).ready(function() {
                                $("#my-icon1").click(function(){
                                $( '#projcdate' ).pickadate("open"),
                                event.stopPropagation(),
                                event.preventDefault()
                                });
                                });


            $(document).ready(function()
                {
                        $('#rmks').change(function()
                        {
                                $(this).val($(this).val().toUpperCase());
                        });
                });

                $(document).ready(function()
                {
                        $('#rateamt').change(function(e)
                        {
                                var regex = /^\d+(\.\d{0,10})?$/g;
                                if (!regex.test(this.value))
                                {
                                        document.getElementById("rateamt").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Invalid , Enter a valid value for Conversion Rate with 2 Decimals"
                                        },{
                                        type: 'danger',
                                        timer: 500
                                        });
                                        this.value = '';
                                        return false;
                                }
                                else
                                {
                                        this.value = parseFloat(this.value).toFixed(2);
                                }
                        });
                });


function resetform()
{
	document.getElementById("myForm").reset();
}


			function formValidations()
			{
				var cid = document.getElementById("cid").value;
				if (cid == "")
                                {
                                        document.getElementById("cid").focus();
					demo.initChartist();
					$.notify({
					icon: 'fa fa-exclamation-circle',
					message: "Select the Customer Id"
					},{
					type: 'info',
					timer: 500
					});
					return false;

                                }

				var delmgr = document.getElementById("delmgr").value;
				if (delmgr == "")
                                {
                                        document.getElementById("delmgr").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Delivery Manager for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }

				var paymenttype = document.getElementById("paymenttype").value;
                                if (paymenttype == "")
                                {
                                        document.getElementById("paymenttype").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Payment Type for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }

				var classid = document.getElementById("classid").value;
                                if (classid == "")
                                {
                                        document.getElementById("classid").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Customer Class for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }

                                var projectsize = document.getElementById("projectsize").value;
				if(projectsize == "")
				{
                                        document.getElementById("projectsize").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Project Team Size for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
				}

                                var projmgr = document.getElementById("projmgr").value;
                                if(projmgr == "")
                                {
                                        document.getElementById("projmgr").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Project Manager for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }

                                var projtype = document.getElementById("projtype").value;
                                if(projtype == "")
                                {
                                        document.getElementById("projtype").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Project Type for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }

                                var projcur = document.getElementById("projcur").value;
                                if (projcur == "")
                                {
                                        document.getElementById("projcur").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select the Project Currency for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }


                                var rateamt = document.getElementById("rateamt").value;
                                if (rateamt == "")
                                {
                                        document.getElementById("rateamt").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Enter the Conversion Rate for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }
				else
				{
					var regex = /^\d+(\.\d{0,10})?$/g;
					if (!regex.test(document.getElementById("rateamt").value))
					{
						document.getElementById("rateamt").focus();
						demo.initChartist();
						$.notify({
						icon: 'fa fa-exclamation-circle',
						message: "Invalid , Enter a valid value for Conversion Rate with 2 Decimals"
						},{
						type: 'danger',
						timer: 500
						});
                                		document.getElementById("rateamt").value="";
						return false;
					}


					if(rateamt <= 0)
					{
						document.getElementById("rateamt").focus();
                                                demo.initChartist();
                                                $.notify({
                                                icon: 'fa fa-exclamation-circle',
                                                message: "Invalid , Enter a Conversion Rate Greater than Zero"
                                                },{
                                                type: 'danger',
                                                timer: 500
                                                });
                                                document.getElementById("rateamt").value="";
						return false;
					}

				}


                                var ponumber = document.getElementById("ponumber").value;
                                if (ponumber == "")
                                {
                                        document.getElementById("ponumber").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Enter the PO Number for the Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }
				else
				{
                                        if (!/^[a-zA-Z0-9/-\s]+$/.test(ponumber))
                                        {
                                                document.getElementById("ponumber").focus();
                                                demo.initChartist();
                                                $.notify({
                                                icon: 'fa fa-exclamation-circle',
                                                message: "Invalid , Enter valid ponumber"
                                                },{
                                                type: 'danger',
                                                timer: 500
                                                });
                                                document.getElementById("ponumber").value="";
                                                return false;
                                        }

					

				}


                                var projsdate = document.getElementById("projsdate").value;
                                if (projsdate == "")
                                {
                                        document.getElementById("projsdate").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select Start Date for Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }


                                var projcdate = document.getElementById("projcdate").value;
                                if (projcdate == "")
                                {
                                        document.getElementById("projcdate").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Select End Date for Project"
                                        },{
                                        type: 'info',
                                        timer: 500
                                        });
                                        return false;
                                }

                                if(projsdate >= projcdate)
                                {
                                        document.getElementById("projsdate").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Project start date cannot be greater or equal to end date"
                                        },{
                                        type: 'danger',
                                        timer: 500
                                        });
                                        return false;
                                }

                                if(projcdate <= projsdate)
                                {
                                        document.getElementById("projcdate").focus();
                                        demo.initChartist();
                                        $.notify({
                                        icon: 'fa fa-exclamation-circle',
                                        message: "Project End date cannot be less or equal to Start date"
                                        },{
                                        type: 'danger',
                                        timer: 500
                                        });
                                        return false;
                                }

				return true; 
			}

	    </script>

</head>
<body onload="changeHashOnLoad()">
<div class="wrapper">
    <div class="sidebar" style ="background-color: transparent;color: #006666">
 	<div class="sidebar-wrapper">
	<% include ../common/logo %>	
    	 <ul class="nav">
         <li>
                    <a href="/admin-dashboard/adminDashboard/admindashboard">
                         <i class="material-icons">dashboard</i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li>
                    <% if(emp_access == "A1"){%>
                    <a href="/employeeModule/employeeDetails/employeeDetails">
                        <i class="material-icons">person</i>
                        <p>Employee Details</p>
                    </a>
                    <%}else{%>
                    <a href="/employeeModule/employeeDetails/employeeAddpersonal">
                        <i class="material-icons">person</i>
                        <p>Employee Details</p>
                    </a>
                    <%}%>
                </li>

                <li class="active">
                <% if(emp_access == "L1" || emp_access == "L2" ){%>
                    <a href="/projectModule/projectDetails/customercreation">
                        <i class="material-icons">pie_chart</i>
                        <p>Project Module</p>
                    </a>
                <%}%>
                </li>
                <li>
                   <a href="/appraisalModule/viewAppraisal/viewAppraisal">
                        <i class="material-icons">thumbs_up_down</i>
                        <p>Appraisal Module</p>
                    </a>
                </li>
                <li>
                    <a href="/cmsModule/cms/cms">
                        <i class="material-icons">file_upload</i>
                        <p>E-Docket</p>
                    </a>
                </li>

                <% if(emp_access == "N1" ){%>
                <li>
                    <a href="/assetModule/assetDetails/assetDetails">
                        <i class="material-icons">phonelink</i>
                        <p>Asset Management</p>
                    </a>
                </li>
                <%}%>

                <li >
                    <a href="/requestModule/applyLeave/applyLeave">
                        <i class="material-icons">event</i>
                        <p>Leave Requests</p>
                    </a>
                </li>
                <% if(emp_access == "A1" ){%>
                <li>
                    <a href="/holidaysModule/holidays/viewHolidays">
                        <i class="material-icons">date_range</i>
                        <p>Holiday Management</p>
                    </a>
                </li>
                <%}%>
                <li>
                   <% if(emp_access != 'A1'){ %>
                    <a href="/travelModule/travel/travel">
                        <i class="material-icons">flight</i>
                        <p>Travel Requests</p>
                    </a>
                  <%}else{%>
                    <a href="/travelModule/travel/travelHrReqQueue">
                        <i class="material-icons">flight</i>
                        <p>Travel Requests</p>
                    </a>
                   <% } %>
                </li>
                <% if( emp_access== 'A1'){ %>
                <li>
                    <a href="/invoiceModule/invoiceDetails/chooseinvoiceDetails">
                        <i class="material-icons">storage</i>
                        <p>Invoice Management</p>
                    </a>
                </li>
                <% } %>
                <li>
                   <% if(emp_access != 'A1'){ %>
                    <a href="/reimbursementModule/initiateRem/initiateRem">
                        <i class="material-icons">receipt</i>
                        <p>Claims</p>
                    </a>
                   <%}else{%>
                    <a href="/reimbursementModule/initiateRem/reimburseHrReqQueue">
                        <i class="material-icons">receipt</i>
                        <p>Claims</p>
                    </a>
                   <%}%>
               </li>
            </ul>

    	</div>
    </div>
    
	<div class="main-panel">
    <div class="container-fluid">
    <% include ../common/userBar %>
    <br>
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <div class="header2row">
				<nav class="navbar navbar-inverse">
  				<ul class="nav navbar-nav" style="color:#669999">
                                <li><a href="/projectModule/projectDetails/customercreation">Customer Details</a></li>
				<li><a href="/projectModule/projectDetails/customermodification">Customer Details Modification</a></li>
                                <li><a href="/projectModule/projectDetails/projectDetails">Add Project Details</a></li>
                                <li><a href="/projectModule/projectDetails/projectDocuments">Project Documents</a></li>
                                <li><a href="/projectModule/projectDetails/projectDocumentsView">Project Documents View</a></li>
                                <li><a href="/projectModule/projectDetails/projectModification">Modify Project Details</a></li>
                                <li><a href="/projectModule/projectDetails/projectCopy">Copy Project Details</a></li>
                                <li><a href="/projectModule/projectDetails/milestoneMarking">Milestone Marking</a></li>
                                <li><a href="/projectModule/projectDetails/projectAllocation">Project Allocation</a></li>
                                <li><a href="/projectModule/projectDetails/viewAllocation">View Project Allocation</a></li>
                                <li><a href="/projectModule/projectDetails/viewEmpallocation">View Employee Allocation</a></li>
                                <li><a href="/projectModule/projectDetails/ModifydelAllocation">Modify Allocation</a></li>
                                <li><a href="/projectModule/projectDetails/projDealloc">Project De-Allocation</a></li>
				<li><a href="/projectModule/childproject/childproject">Add Child Project</a></li>
				<li><a href="/projectModule/productdetails/productdetails"><span style="color:#ff9933">Add Product Details</span></a></li>
				<li><a href="/projectModule/projectDetails/recallmilestonemrak">Recall Milestone</a></li>
				<li><a href="/projectModule/projectFAQDetails/projectFAQDetails">FAQ</a></li>
  				</ul>
				</nav>
                            </div>
                            <div class="content">
                                <form name="myForm" id="myForm"  action="/projectModule/productdetails/addproductdetails" method="post" onsubmit="return formValidations()">
				<hr/>
				<h4 class="title">Project Details     <i class="material-icons right">work</i></h4>
				<hr/>
                                    <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="cid" style="color:#404040;margin-left: 50px">Customer Id<span style="color:red;font-size:15px">*</span></label>
 						<select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="cid" name="cid" required style="width:259px;height:40px;text-transform:uppercase">

                                                        <option value="" selected disabled> Customer Id</option>

                                                                  <% for (i = 0; i < customer_count; i++)  {%>
                                                                  <option value="<%= customer_id[i].customer_id %>"> <%=customer_id[i].customer_id %> - <%=customer_name[i].customer_name %></option>
                                                                              <% }; %>

                                                                </select>


                                            </div>
                                        </div>
                                     
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="delmgr" style="color:#404040;margin-left: 50px">Delivery Manager<span style="color:red;font-size:15px">*</span></label>
                                                <br>
                                                <select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="delmgr"  name="delmgr" required style="width:259px;height:40px">
                                                        <option value="" selected disabled>Delivery Manager</option>
                                                                  <% for (i = 0; i < delname_count; i++)  {%>
                                                                  <option value="<%= delid[i].emp_id %>"> <%=delname[i].emp_name %> - <%= delid[i].emp_id %></option>
                                                                              <% }; %>

                                                                </select>




                                                </select>
                                            </div>
                                        </div>
					 </div>

			             <div class="row">
                                      					
					<div class="col-md-5">
                                            <div class="form-group">
                                                <label for="paymenttype" style="color:#404040;margin-left: 50px">Payment Type<span style="color:red;font-size:15px">*</span></label>
                                                <br>
                                                <select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="paymenttype"  name="paymenttype" onChange="javascript:return projectdis(this);"  required style="width:259px;height:40px">
                                                        <option value="" selected disabled>Payment Type</option>
                                                                  <% for (i = 0; i < comm_paymentype_count; i++)  {%>
                                                                  <option value="<%=comm_paymentype[i].comm_code_id%>"> <%=comm_paymentype[i].comm_code_id %> - <%=comm_paymentype[i].comm_code_desc%></option>
                                                                              <% }; %>
                                        
        
					</select>
                                            </div>
                                        </div>
					  <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="classid" style="color:#404040;margin-left: 50px">Customer Class<span style="color:red;font-size:15px">*</span></label>
						<select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="classid" name="classid" required style="width:259px;height:40px;text-transform:uppercase">
<option value=""selected disabled>Customer Class</option>

                                                                  <% for (i = 0; i < comm_code_id_count; i++)  {%>
                                                                  <option value="<%= comm_code_id[i].comm_code_id %>"> <%=comm_code_id[i].comm_code_id %> - <%= comm_code_desc[i].comm_code_desc %></option>
                                                                              <% }; %>

                                                                </select>


                                            </div>
                                        </div>
                                       
                                    </div>

				<div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="projectsize" style="color:#404040;margin-left: 50px">Project Team Size<span style="color:red;font-size:15px">*</span></label>
						<select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="projectsize" name="projectsize" style="width:259px;height:40px;text-transform:uppercase">
							  
							  <option value="" selected disabled>Project Team Size</option>
							  <% for (i = 1; i < 100; i++)  {%>
							  <option value="<%= i %>"> <%= i %></option>
							  <% }; %>
                                                 </select>


                                            </div>
                                        </div>
                                        
					<div class="col-md-5">
                                            <div class="form-group">
                                                <label class="small-font" for="projmgr" style="color:#404040;margin-left: 50px">Project Manager<span style="color:red;font-size:15px">*</span></label>
						 <select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="projmgr" name="projmgr" required style="width:259px;height:40px;text-transform:uppercase">
							<option value="" selected disabled>Project Manager</option>

								  <% for (i = 0; i < empid_count; i++)  {%>
								  <option value="<%= employee[i].emp_id %>"> <%=empname[i].emp_name %> - <%= employee[i].emp_id %></option>
									      <% }; %>
							       
								</select>


                                            </div>
                                        </div>
                                 </div>

					 <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="projtype" style="color:#404040;margin-left: 50px">Project Type<span style="color:red;font-size:15px">*</span></label>
                                                <br>
                                                <select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="projtype"  name="projtype" required style="width:259px;height:40px">
                                                        <option value="" selected disabled>Project Type</option>
								  <% for (i = 0; i < comm_code_pty_count; i++)  {%>
								  <option value="<%= comm_code_pty[i].comm_code_id %>"> <%=comm_code_pty[i].comm_code_id %> - <%= comm_code_pty[i].comm_code_desc %></option>
									      <% }; %>
							       
								</select>




                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="projcur" style="color:#404040;margin-left: 50px">Project Currency<span style="color:red;font-size:15px">*</span></label>
                                                <br>
                                                <select class="form-control" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="projcur"    name="projcur" required   style="width:259px;height:40px">
                                                        <option value="" selected disabled>Project Currency</option>
							  <% for (i = 0; i < comm_code_pcr_count; i++)  {%>
						  <option value="<%= comm_code_pcr[i].comm_code_id %>"> <%=comm_code_pcr[i].comm_code_id %> </option>
									      <% }; %>
							       
								</select>
                                            </div>
                                        </div>
                                 </div>

                                     <div class="row">
                                    <div class="col-md-5">
                                    <div class="form-group">
                                             <label for="rateamt" class="control-label" style="color:#404040;margin-left: 50px">Convertion Rate<span style="color:red;font-size:15px">*</span></label>
                                             <input type="text" style ="margin-left: 50px;width:348px;text-transform:uppercase;text-transform:uppercase" id="rateamt" name="rateamt" required maxlength="16"  class="form-control" placeholder="Convertion Rate">
                                            </div>
                                        </div>
                                    <div class="col-md-5">
                                    <div class="form-group">
                                             <label for="ponumber" class="control-label" style="color:#404040;margin-left: 50px">Po Number   <span style="color:red;font-size:15px">*</span></label>
                                             <input type="text" style ="margin-left: 50px;width:348px;text-transform:uppercase;text-transform:uppercase" id="ponumber" name="ponumber"  maxlength="15" class="form-control" placeholder="Po Number">
                                            </div>
                                        </div>


                                        </div>

                                <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <table>
                                            <tr>    <label for="projsdate" style="color:#404040;margin-left: 50px">Start Date(YYYY-MM-DD)<span style="color:red;font-size:15px">*</span></label>
                                                <td><input type="date" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="projsdate" name="projsdate" required class="form-control" placeholder="Start Date(YYYY-MM-DD)"></td>
                                        <td>    <span id="my-icon" class="glyphicon glyphicon-calendar"></span></td>
                                                </tr>
                                        </table>
                                            </div>
                                        </div>

                                        <div class="col-md-5">
                                            <div class="form-group">
                                        <table>
                                               <tr> <label for="projcdate" style="color:#404040;margin-left: 50px">End Date(YYYY-MM-DD)<span style="color:red;font-size:15px">*</span></label>
                                               <td> <input type="date" style ="margin-left: 50px;width:348px;text-transform:uppercase" id="projcdate" name="projcdate" required class="form-control" placeholder="End Date(YYYY-MM-DD)"></td>
                                        <td>    <span id="my-icon1" class="glyphicon glyphicon-calendar"></span></td>
                                                  </tr>
                                        </table>
                                            </div>
                                        </div>
                                 </div>


                                       <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="rmks" style="color:#404040;margin-left: 50px">Remarks</label>
                                                <textarea id="rmks" name="rmks" style ="margin-left: 50px;width:348px;text-transform:uppercase" maxlength="100"  class="form-control" placeholder="Remarks"></textarea>
                                            </div>
                                        </div>
                                        </div>


                                    <table>
                                    <tr>
                                    <td><input type="submit" class="btn btn-info btn-fill" style="margin-left:45%;padding:1px 16px;height:40px;width:100px" value="Submit" onclick="return formValidations()"></td>
                                    <td><input type="button" class="btn btn-info btn-fill" style="margin-left:65%;padding:1px 16px;height:40px;width:100px" value="Clear" onclick="resetform()"></td>
                                    </tr>
                                    </table>
                                    <div class="clearfix"></div>
                                </form>
				<br>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
     </div>
	<% include ../common/footer %>
</div>


</body>


<script type="text/javascript">
$(document).ready(function () {
    $('.addBtn').on('click', function () {
        //var trID;
        //trID = $(this).closest('tr'); // table row ID
        addTableRow();
    });
     $('.addBtnRemove').click(function () {
        $(this).closest('tr').remove();
    })
    var i = 0;
   var j=i+1;
    function addTableRow()
    {
        var tempTr = $('<tr id="tr_' + i +'"><td><input type="text" id="milname_' + i + '" name="milname_' + i + '" style="width:400px;"  maxlength="50" class="form-control" /></td><td><input type="text" id="milDate_' + i + '" name="milDate_' + i + '" class="form-control" /></td><td><input type="text" id="caper_' + i + '" name="caper_' + i + '" onBlur="javascript:return milperccentage(this,'+ i +');" maxlength="5"  class="form-control" /></td><td><input type="text" id="diramt_' + i + '" name="diramt_' + i + '" onChange="javascript:return milperc(this,'+ i +');" class="form-control" /></td><td><span class="glyphicon glyphicon-minus addBtnRemove" id="addBtn_' + i + '"></span></td></tr>').on('click', function () {
          // $(this).closest('tr').remove();
           $(document.body).on('click', '.addBtnRemove', function (e) {
               $(this).closest('tr').remove();
            });
        });
        $("#tableAddRow").append(tempTr)
                var today = new Date();
                $('#milDate_'+i).pickadate(
                {
                selectMonths: true,
                selectYears: 100,
                format: 'yyyy-mm-dd',
                formatSubmit: 'yyyy-mm-dd',
                closeOnSelect: true,
		closeOnClear: true
                });




        i++;
	j++;
 $('#millength').val(i);
    }
});
</script>

    <!--   Core JS Files   -->
    <script src="assets/js/jquery-1.10.2.js" type="text/javascript"></script>
<!--	<script src="/js/bootstrap.min.js" type="text/javascript"></script> -->

	<!--  Checkbox, Radio & Switch Plugins -->
	<script src="/js/bootstrap-checkbox-radio-switch.js"></script>

	<!--  Charts Plugin -->
	<script src="/js/chartist.min.js"></script>

    <!--  Notifications Plugin    -->
    <script src="/js/bootstrap-notify.js"></script>

    <!--  Google Maps Plugin    -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

    <!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
    <script src="/js/light-bootstrap-dashboard.js"></script>

     <!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
    <script src="/js/demo.js"></script>
         <% if(success!="") { %>

        <script type="text/javascript">
        $(document).ready(function(){

                demo.initChartist();

                $.notify({
                icon: 'fa fa-exclamation-circle',
                message:"<b><%= success %></b>"

            },{
                type: 'info',
                timer: 500
            });

        });
        </script>
        <%}%>

         <% if(error!="") { %>

        <script type="text/javascript">
        $(document).ready(function(){

                demo.initChartist();

                $.notify({
                icon: 'fa fa-exclamation-circle',
                message:"<b><%= error %></b>"

            },{
                type: 'danger',
                timer: 500
            });

        });
        </script>
<%}%>


</html>
